## 1. Contexto consumido
- `docker-compose.yml` ✅
- `config/nginx/default.conf.template` (novo) ✅
- `.env.example` ✅
- `docs/solution-architect/docker-compose-core.md` ✅
- `docs/application-developer/compose-validation.md` ✅
- `docs/project-manager/github_issues_backlog_T001-T150.md` ✅

## 2. Objetivo da alteração
Entregar a tarefa T-023 adicionando um proxy reverso que protege a Evolution API com header de autorização e atualizar documentação/infra correspondente.

## 3. Decisões e justificativas
- Introduzido serviço `reverse-proxy` (Nginx) que exige `Authorization: Bearer <EVOLUTION_AUTH_KEY>` antes de encaminhar requests para a Evolution API, cumprindo o requisito de API key.
- Evolution API deixa de expor portas diretamente; somente o proxy publica `${EVOLUTION_PROXY_HTTP_PORT}`/`${EVOLUTION_PROXY_WS_PORT}`.
- Template Nginx gerado via `envsubst` para evitar segredos no Git e simplificar ajustes futuros.
- Documentação atualizada (compose core, compose validation, .env.example) para refletir a nova topologia.

## 4. Implementação
- Arquivos tocados: `docker-compose.yml`, `config/nginx/default.conf.template`, `.env.example`, `docs/solution-architect/docker-compose-core.md`, `docs/application-developer/compose-validation.md`, `docs/application-developer/pre-flight.md`, `docs/application-developer/changelog.md`, `docs/project-manager/github_issues_backlog_T001-T150.md`.
- Estratégia de testes/validação: `docker compose config`, `make up` e `curl -H "Authorization: Bearer $EVOLUTION_AUTH_KEY" http://localhost:8088/` para validar resposta 200.

## 5. Pontos que precisam de revisão humana
- Avaliar se o proxy deve tratar HTTPS/certs em ambientes superiores.
- Confirmar se outros serviços internos consomem a Evolution API; se sim, atualizar endpoints para apontar para o proxy ou manter acesso interno liberado.

## 6. Follow-ups recomendados
- Documentar portas/proxy (T-032) e testes de carga inicial (T-033).
- Adicionar monitoramento específico do proxy (logs/metrics) quando iniciarmos observabilidade.
