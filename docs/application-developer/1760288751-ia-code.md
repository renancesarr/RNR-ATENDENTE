## 1. Contexto consumido
- `docs/application-developer/README.md` ✅
- `docs/application-developer/pre-flight.md` ✅
- `docs/application-developer/context-index.md` ✅
- `docs/application-developer/1760288660-ia-code.md` ✅
- `docs/project-manager/github_issues_backlog_T001-T150.md` ✅
- `db/migrations/0001_create_app_role.sql` ✅
- `docs/standards.md` ✅

## 2. Objetivo da alteração
Criar o esquema base (contacts, chats, messages, history) para suportar armazenamento transacional conforme tarefa T-036.

## 3. Decisões e justificativas
- Definimos tabelas `contacts`, `chats`, `messages`, `chat_history` com índices e constraints de unicidade, seguindo convenções definidas em `docs/standards.md`.
- Habilitamos função `set_updated_at` para manter `updated_at` sincronizado em atualizações.
- Estendemos a migração 0002 para ficar idempotente (`CREATE TABLE IF NOT EXISTS`).

## 4. Implementação
- Arquivos tocados: `db/migrations/0002_base_schema.sql`, `docs/application-developer/pre-flight.md`.
- Estratégia de testes/validação: rodar manualmente `psql -f` após bootstrap (não executado aqui).

## 5. Pontos que precisam de revisão humana
Validar se campos adicionais (ex.: status detalhado, attachments) serão necessários antes de entrar em piloto.

## 6. Follow-ups recomendados
- Criar migrações subsequentes para fatos métricos (T-037) e event log (T-038).
- Integrar com seeds (T-027) quando prontos.
